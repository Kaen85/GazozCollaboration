{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kaan\\\\OneDrive\\\\Belgeler\\\\GitHub\\\\GazozCollaboration\\\\frontend\\\\src\\\\pages\\\\AdminUsers.js\",\n  _s = $RefreshSig$();\n// src/pages/Users.js\nimport React, { useState, useEffect } from 'react';\nimport api from '../services/api';\nimport { FiUserPlus, FiMoreVertical, FiEdit2, FiTrash2, FiChevronLeft, FiChevronRight, FiX, FiSearch, FiUsers, FiLoader } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction AdminUsers() {\n  _s();\n  const [users, setUsers] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [openMenuId, setOpenMenuId] = useState(null);\n  const [showModal, setShowModal] = useState(false);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [selectedItem, setSelectedItem] = useState(null);\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n    role: 'student'\n  });\n  const itemsPerPage = 7;\n  useEffect(() => {\n    fetchUsers();\n  }, []);\n  const fetchUsers = async () => {\n    setLoading(true);\n    try {\n      const response = await api.get('/api/auth/users');\n      setUsers(response.data.sort((a, b) => new Date(b.created_at) - new Date(a.created_at)));\n    } catch (err) {\n      console.error(err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setIsSubmitting(true);\n    try {\n      if (selectedItem) await api.put(`/api/auth/users/${selectedItem.id}`, formData);else await api.post('/api/auth/register', formData);\n      fetchUsers();\n      setShowModal(false);\n    } catch (err) {\n      alert(\"Operation failed.\");\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleDeleteUser = async user => {\n    if (!window.confirm(`Delete ${user.username}?`)) return;\n    try {\n      await api.delete(`/api/auth/users/${user.id}`);\n      fetchUsers();\n    } catch (err) {\n      alert(\"Delete failed.\");\n    }\n  };\n  const filteredData = users.filter(u => {\n    var _u$username, _u$email;\n    return ((_u$username = u.username) === null || _u$username === void 0 ? void 0 : _u$username.toLowerCase().includes(searchTerm.toLowerCase())) || ((_u$email = u.email) === null || _u$email === void 0 ? void 0 : _u$email.toLowerCase().includes(searchTerm.toLowerCase()));\n  });\n  const currentItems = filteredData.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\n  const totalPages = Math.max(Math.ceil(filteredData.length / itemsPerPage), 1);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-[calc(100vh-140px)] p-4 pb-0 bg-app transition-colors duration-300 overflow-hidden\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto w-full h-full flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-none flex justify-between items-center mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-black text-text-main tracking-tight flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(FiUsers, {\n            className: \"mr-3 text-primary\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 11\n          }, this), \" User Management\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: openAddModal,\n          className: \"bg-primary hover:opacity-90 text-white font-bold py-2 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 active:scale-95 flex items-center text-sm border-none\",\n          children: [/*#__PURE__*/_jsxDEV(FiUserPlus, {\n            className: \"mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 11\n          }, this), \" Add User\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-none bg-surface p-2 rounded-2xl border border-border shadow-sm mb-4 dark:bg-surface-dark/40\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative group max-w-md\",\n          children: [/*#__PURE__*/_jsxDEV(FiSearch, {\n            className: \"absolute left-3 top-3 text-text-secondary transition-colors\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search users...\",\n            value: searchTerm,\n            onChange: e => {\n              setSearchTerm(e.target.value);\n              setCurrentPage(1);\n            },\n            className: \"w-full bg-app border border-border text-text-main text-base rounded-xl pl-10 py-2 outline-none focus:border-primary transition-all dark:bg-black/20\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 11\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-grow bg-surface rounded-2xl border border-border shadow-sm overflow-hidden flex flex-col mb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-none pb-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 3\n  }, this);\n}\n_s(AdminUsers, \"5r+ZQpGzM83GZ//z6A3GQ1z3Y10=\");\n_c = AdminUsers;\nexport default AdminUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminUsers\");","map":{"version":3,"names":["React","useState","useEffect","api","FiUserPlus","FiMoreVertical","FiEdit2","FiTrash2","FiChevronLeft","FiChevronRight","FiX","FiSearch","FiUsers","FiLoader","jsxDEV","_jsxDEV","AdminUsers","_s","users","setUsers","loading","setLoading","currentPage","setCurrentPage","searchTerm","setSearchTerm","openMenuId","setOpenMenuId","showModal","setShowModal","isSubmitting","setIsSubmitting","selectedItem","setSelectedItem","formData","setFormData","username","email","password","role","itemsPerPage","fetchUsers","response","get","data","sort","a","b","Date","created_at","err","console","error","handleSubmit","e","preventDefault","put","id","post","alert","handleDeleteUser","user","window","confirm","delete","filteredData","filter","u","_u$username","_u$email","toLowerCase","includes","currentItems","slice","totalPages","Math","max","ceil","length","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","openAddModal","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["C:/Users/Kaan/OneDrive/Belgeler/GitHub/GazozCollaboration/frontend/src/pages/AdminUsers.js"],"sourcesContent":["// src/pages/Users.js\r\nimport React, { useState, useEffect } from 'react';\r\nimport api from '../services/api';\r\nimport { \r\n  FiUserPlus, FiMoreVertical, FiEdit2, FiTrash2, FiChevronLeft, FiChevronRight, FiX, FiSearch, FiUsers, FiLoader \r\n} from 'react-icons/fi';\r\n\r\nfunction AdminUsers() {\r\n  const [users, setUsers] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [searchTerm, setSearchTerm] = useState(\"\"); \r\n  const [openMenuId, setOpenMenuId] = useState(null);\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [formData, setFormData] = useState({ username: '', email: '', password: '', role: 'student' });\r\n  const itemsPerPage = 7;\r\n\r\n  useEffect(() => { fetchUsers(); }, []);\r\n\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const response = await api.get('/api/auth/users');\r\n      setUsers(response.data.sort((a, b) => new Date(b.created_at) - new Date(a.created_at)));\r\n    } catch (err) { console.error(err); } finally { setLoading(false); }\r\n  };\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setIsSubmitting(true);\r\n    try {\r\n      if (selectedItem) await api.put(`/api/auth/users/${selectedItem.id}`, formData);\r\n      else await api.post('/api/auth/register', formData);\r\n      fetchUsers();\r\n      setShowModal(false);\r\n    } catch (err) { alert(\"Operation failed.\"); } finally { setIsSubmitting(false); }\r\n  };\r\n\r\n  const handleDeleteUser = async (user) => {\r\n    if (!window.confirm(`Delete ${user.username}?`)) return;\r\n    try {\r\n      await api.delete(`/api/auth/users/${user.id}`);\r\n      fetchUsers();\r\n    } catch (err) { alert(\"Delete failed.\"); }\r\n  };\r\n\r\n  const filteredData = users.filter(u => u.username?.toLowerCase().includes(searchTerm.toLowerCase()) || u.email?.toLowerCase().includes(searchTerm.toLowerCase()));\r\n  const currentItems = filteredData.slice((currentPage - 1) * itemsPerPage, currentPage * itemsPerPage);\r\n  const totalPages = Math.max(Math.ceil(filteredData.length / itemsPerPage), 1);\r\n\r\n  return (\r\n  <div className=\"flex flex-col h-[calc(100vh-140px)] p-4 pb-0 bg-app transition-colors duration-300 overflow-hidden\">\r\n    <div className=\"max-w-7xl mx-auto w-full h-full flex flex-col\">\r\n      \r\n      {/* HEADER SECTION - Standart Hizalama */}\r\n      <div className=\"flex-none flex justify-between items-center mb-4\">\r\n        <h1 className=\"text-2xl font-black text-text-main tracking-tight flex items-center\">\r\n          <FiUsers className=\"mr-3 text-primary\" /> User Management\r\n        </h1>\r\n        <button onClick={openAddModal} className=\"bg-primary hover:opacity-90 text-white font-bold py-2 px-6 rounded-xl shadow-lg transition-all transform hover:scale-105 active:scale-95 flex items-center text-sm border-none\">\r\n          <FiUserPlus className=\"mr-2\" /> Add User\r\n        </button>\r\n      </div>\r\n\r\n      {/* SEARCH BAR - Standart Kutu */}\r\n      <div className=\"flex-none bg-surface p-2 rounded-2xl border border-border shadow-sm mb-4 dark:bg-surface-dark/40\">\r\n        <div className=\"relative group max-w-md\">\r\n          <FiSearch className=\"absolute left-3 top-3 text-text-secondary transition-colors\" />\r\n          <input \r\n            type=\"text\" placeholder=\"Search users...\" value={searchTerm}\r\n            onChange={(e) => { setSearchTerm(e.target.value); setCurrentPage(1); }}\r\n            className=\"w-full bg-app border border-border text-text-main text-base rounded-xl pl-10 py-2 outline-none focus:border-primary transition-all dark:bg-black/20\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* TABLE AREA */}\r\n      <div className=\"flex-grow bg-surface rounded-2xl border border-border shadow-sm overflow-hidden flex flex-col mb-4\">\r\n        {/* Tablo kodları buraya gelecek... */}\r\n      </div>\r\n\r\n      {/* PAGINATION BAR - En Alta Sabit */}\r\n      <div className=\"flex-none pb-4\">\r\n         {/* PaginationBar bileşeni... */}\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\n}\r\n\r\nexport default AdminUsers;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}